<!DOCTYPE html>
<html lang="mk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>World Protocol Academy | Доц. д-р Санде Смиљанов — Научни монографии за дипломатија, протокол и безбедност</title>
  
  <!-- SEO & Meta -->
  <meta name="description" content="Научни монографии од Доц. д-р Санде Смиљанов. Дигитални изданија • AI асистент • Моментална достава • Глобална достапност.">
  <meta name="keywords" content="дипломатија, протокол, безбедност, Sande Smiljanov, академски публикации, AI, монетизација">
  <meta name="author" content="Sande Smiljanov">
  <link rel="canonical" href="https://worldprotocolacademy-code.github.io/">
  
  <!-- Open Graph -->
  <meta property="og:title" content="World Protocol Academy — AI-Powered Academic Platform">
  <meta property="og:description" content="4 научни монографии + AI асистент + моментална достава">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://worldprotocolacademy-code.github.io/">
  <meta property="og:image" content="https://worldprotocolacademy-code.github.io/logo.png">
  
  <!-- PWA -->
  <meta name="theme-color" content="#1a3a5c">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="logo.png">
  
  <!-- Preconnect -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "name": "World Protocol Academy",
        "url": "https://worldprotocolacademy-code.github.io/",
        "logo": "https://worldprotocolacademy-code.github.io/logo.png",
        "founder": {"@type": "Person", "name": "Sande Smiljanov"},
        "sameAs": ["https://scholar.google.com/citations?user=YOUR_ID"]
      },
      {
        "@type": "Person",
        "name": "Sande Smiljanov",
        "jobTitle": "Associate Professor, PhD",
        "alumniOf": "World Protocol Academy"
      }
    ]
  }
  </script>

  <style>
    :root {
      /* Colors */
      --primary: #1a3a5c;
      --primary-dark: #0f2640;
      --secondary: #c9a961;
      --secondary-dark: #b8964e;
      --accent: #2e7d32;
      --danger: #dc3545;
      --warning: #ffc107;
      --info: #17a2b8;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --gray-light: #e9ecef;
      --white: #ffffff;
      --success: #28a745;
      
      /* Gradients */
      --gradient-primary: linear-gradient(135deg, var(--primary), var(--primary-dark));
      --gradient-secondary: linear-gradient(135deg, var(--secondary), var(--secondary-dark));
      --gradient-accent: linear-gradient(135deg, var(--accent), #1b5e20);
      
      /* Shadows */
      --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
      --shadow: 0 4px 12px rgba(0,0,0,0.1);
      --shadow-lg: 0 8px 30px rgba(0,0,0,0.15);
      --shadow-xl: 0 20px 60px rgba(0,0,0,0.2);
      --shadow-hover: 0 12px 40px rgba(0,0,0,0.2);
      
      /* Transitions */
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-fast: all 0.15s ease;
      
      /* Border Radius */
      --radius: 12px;
      --radius-lg: 20px;
      --radius-xl: 30px;
      
      /* Typography */
      --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --font-serif: 'Merriweather', Georgia, serif;
      
      /* Spacing */
      --container-max: 1400px;
      --header-height: 80px;
    }
    
    /* Dark Mode */
    [data-theme="dark"] {
      --light: #1a1a2e;
      --dark: #eaeaea;
      --gray-light: #16213e;
      --white: #0f3460;
    }
    
    /* Reset & Base */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; font-size: 16px; }
    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; }
      html { scroll-behavior: auto; }
    }
    
    body {
      font-family: var(--font-sans);
      line-height: 1.6;
      color: var(--dark);
      background: var(--light);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }
    
    img, picture, video, canvas, svg { display: block; max-width: 100%; height: auto; }
    input, button, textarea, select { font: inherit; }
    a { color: inherit; text-decoration: none; transition: var(--transition); }
    button { background: none; border: none; cursor: pointer; font-family: inherit; }
    ul[role='list'], ol[role='list'] { list-style: none; }
    
    /* Skip Link */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--secondary);
      color: var(--dark);
      padding: 8px 16px;
      z-index: 10000;
      font-weight: 600;
      border-radius: 0 0 8px 0;
    }
    .skip-link:focus { top: 0; }
    
    /* Header */
    header {
      background: var(--gradient-primary);
      color: var(--white);
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: var(--shadow-lg);
      backdrop-filter: blur(10px);
    }
    
    .header-container {
      max-width: var(--container-max);
      margin: 0 auto;
      padding: 0 1.5rem;
      height: var(--header-height);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1.5rem;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--white);
      transition: var(--transition);
    }
    .logo:hover { transform: scale(1.05); }
    .logo img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: 3px solid var(--secondary);
      box-shadow: 0 0 20px rgba(201,169,97,0.4);
    }
    .logo-text {
      display: flex;
      flex-direction: column;
      line-height: 1.2;
    }
    .logo-text span:first-child { color: var(--secondary); font-size: 0.85rem; }
    .logo-text span:last-child { font-size: 1.1rem; }
    
    /* Navigation */
    nav {
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }
    nav a {
      color: rgba(255,255,255,0.9);
      padding: 0.6rem 1rem;
      border-radius: 8px;
      font-weight: 500;
      font-size: 0.95rem;
      transition: var(--transition-fast);
    }
    nav a:hover, nav a:focus-visible {
      background: rgba(255,255,255,0.15);
      color: var(--white);
      transform: translateY(-2px);
    }
    
    /* Header Actions */
    .header-actions {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .icon-btn {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      color: var(--white);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      transition: var(--transition-fast);
      position: relative;
    }
    .icon-btn:hover {
      background: rgba(255,255,255,0.25);
      transform: translateY(-2px) rotate(5deg);
    }
    .icon-btn .badge {
      position: absolute;
      top: -2px;
      right: -2px;
      background: var(--danger);
      color: white;
      font-size: 0.7rem;
      font-weight: 700;
      min-width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 5px;
    }
    
    /* Language Selector */
    .lang-selector {
      display: flex;
      gap: 0.25rem;
      background: rgba(255,255,255,0.15);
      padding: 0.25rem;
      border-radius: 10px;
      backdrop-filter: blur(4px);
    }
    .lang-btn {
      background: transparent;
      border: none;
      color: rgba(255,255,255,0.7);
      padding: 0.4rem 0.9rem;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.85rem;
      cursor: pointer;
      transition: var(--transition-fast);
    }
    .lang-btn.active, .lang-btn:hover {
      background: var(--white);
      color: var(--primary);
    }
    
    /* Theme Toggle */
    .theme-toggle {
      position: relative;
      width: 60px;
      height: 30px;
      background: rgba(255,255,255,0.2);
      border-radius: 30px;
      cursor: pointer;
      transition: var(--transition);
    }
    .theme-toggle-slider {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 24px;
      height: 24px;
      background: var(--secondary);
      border-radius: 50%;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
    }
    [data-theme="dark"] .theme-toggle-slider {
      left: 33px;
      background: var(--warning);
    }
    
    /* Mobile Menu */
    .menu-toggle {
      display: none;
      flex-direction: column;
      gap: 4px;
      padding: 0.5rem;
      cursor: pointer;
    }
    .menu-toggle span {
      width: 25px;
      height: 3px;
      background: var(--white);
      border-radius: 3px;
      transition: var(--transition);
    }
    
    /* Main Content */
    main { max-width: var(--container-max); margin: 0 auto; padding: 2rem 1.5rem; }
    
    /* Hero Section */
    .hero {
      background: var(--gradient-primary);
      color: var(--white);
      padding: clamp(3rem, 8vw, 5rem) 1.5rem;
      border-radius: var(--radius-lg);
      margin-bottom: 2.5rem;
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow-xl);
    }
    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at top right, rgba(201,169,97,0.2), transparent 60%);
      pointer-events: none;
    }
    .hero::after {
      content: '';
      position: absolute;
      bottom: -50px;
      right: -50px;
      width: 300px;
      height: 300px;
      background: rgba(255,255,255,0.05);
      border-radius: 50%;
    }
    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 900px;
      margin: 0 auto;
      text-align: center;
    }
    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(201,169,97,0.25);
      color: var(--secondary);
      padding: 0.5rem 1.25rem;
      border-radius: 50px;
      font-weight: 700;
      font-size: 0.9rem;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(201,169,97,0.4);
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(201,169,97,0.4); }
      50% { box-shadow: 0 0 0 10px rgba(201,169,97,0); }
    }
    .hero h1 {
      font-family: var(--font-serif);
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 1rem;
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    .hero-subtitle {
      font-size: clamp(1.1rem, 2.5vw, 1.4rem);
      opacity: 0.95;
      margin-bottom: 2rem;
      font-weight: 300;
      line-height: 1.6;
    }
    .hero-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1.5rem;
      margin: 2.5rem 0;
    }
    .stat-item {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      padding: 1.5rem 1rem;
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,0.2);
      transition: var(--transition);
    }
    .stat-item:hover {
      background: rgba(255,255,255,0.2);
      transform: translateY(-5px);
    }
    .stat-value {
      font-size: 2.2rem;
      font-weight: 800;
      color: var(--secondary);
      display: block;
      line-height: 1;
      margin-bottom: 0.5rem;
    }
    .stat-label {
      font-size: 0.9rem;
      opacity: 0.9;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 500;
    }
    .hero-cta {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 2rem;
    }
    
    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.6rem;
      padding: 1rem 2rem;
      background: var(--secondary);
      color: var(--dark);
      border: 2px solid transparent;
      border-radius: var(--radius);
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: var(--transition);
      text-align: center;
      min-height: 52px;
      position: relative;
      overflow: hidden;
    }
    .btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255,255,255,0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }
    .btn:hover::before {
      width: 300px;
      height: 300px;
    }
    .btn:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-hover);
    }
    .btn:active { transform: translateY(-1px); }
    .btn:focus-visible {
      outline: 3px solid rgba(201,169,97,0.5);
      outline-offset: 2px;
    }
    .btn-primary {
      background: var(--white);
      color: var(--primary);
      border-color: var(--white);
    }
    .btn-primary:hover {
      background: var(--gray-light);
      color: var(--primary-dark);
    }
    .btn-outline {
      background: transparent;
      border-color: rgba(255,255,255,0.4);
      color: var(--white);
    }
    .btn-outline:hover {
      background: rgba(255,255,255,0.15);
      border-color: var(--white);
    }
    .btn-lg {
      padding: 1.25rem 2.5rem;
      font-size: 1.1rem;
      border-radius: var(--radius-lg);
    }
    .btn-sm {
      padding: 0.6rem 1.25rem;
      font-size: 0.9rem;
      border-radius: 10px;
    }
    .btn-block { width: 100%; }
    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    /* Section Header */
    .section-header {
      text-align: center;
      margin: 3.5rem 0 2.5rem;
    }
    .section-header h2 {
      font-family: var(--font-serif);
      font-size: clamp(1.8rem, 4vw, 2.5rem);
      color: var(--primary);
      margin-bottom: 0.75rem;
      position: relative;
      display: inline-block;
    }
    .section-header h2::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background: var(--gradient-secondary);
      border-radius: 2px;
    }
    .section-header p {
      color: var(--gray);
      max-width: 650px;
      margin: 1.5rem auto 0;
      font-size: 1.1rem;
    }
    
    /* Books Grid */
    .books-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 2rem;
      margin: 2.5rem 0;
    }
    
    .book-card {
      background: var(--white);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow);
      transition: var(--transition);
      display: flex;
      flex-direction: column;
      position: relative;
      border: 1px solid var(--gray-light);
    }
    .book-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: var(--shadow-hover);
      border-color: var(--secondary);
    }
    .book-card.featured {
      border: 3px solid var(--secondary);
      box-shadow: 0 0 0 6px rgba(201,169,97,0.1), var(--shadow-lg);
    }
    .book-card.featured::before {
      content: '⭐ BESTSELLER';
      position: absolute;
      top: 1rem;
      right: -35px;
      background: var(--gradient-secondary);
      color: var(--dark);
      padding: 0.4rem 3rem;
      font-size: 0.75rem;
      font-weight: 800;
      transform: rotate(45deg);
      z-index: 2;
      box-shadow: var(--shadow);
    }
    
    .book-cover {
      height: 240px;
      background: var(--gradient-primary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--white);
      font-weight: 700;
      font-size: 1.2rem;
      text-align: center;
      padding: 1.5rem;
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }
    .book-cover::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.15), transparent 50%);
    }
    .book-cover::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.3));
    }
    .book-cover img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: var(--transition);
    }
    .book-card:hover .book-cover img { transform: scale(1.08); }
    .book-cover-content {
      position: relative;
      z-index: 1;
      text-align: center;
    }
    .book-cover-icon {
      font-size: 4rem;
      margin-bottom: 0.75rem;
      display: block;
    }
    
    .book-badge {
      position: absolute;
      top: 1rem;
      left: 1rem;
      background: var(--accent);
      color: white;
      padding: 0.4rem 0.85rem;
      border-radius: 8px;
      font-size: 0.75rem;
      font-weight: 700;
      z-index: 1;
      box-shadow: var(--shadow);
    }
    
    .book-info {
      padding: 1.5rem;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .book-title {
      font-family: var(--font-serif);
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 0.5rem;
      line-height: 1.3;
    }
    
    .book-author {
      font-size: 0.95rem;
      color: var(--gray);
      margin-bottom: 0.75rem;
      font-weight: 500;
    }
    
    .book-meta {
      display: flex;
      gap: 1rem;
      font-size: 0.85rem;
      color: var(--gray);
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .book-meta span {
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }
    
    .book-rating {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      margin-bottom: 1rem;
    }
    .stars {
      color: #f59e0b;
      font-size: 0.95rem;
      letter-spacing: -1px;
    }
    .rating-count {
      font-size: 0.85rem;
      color: var(--gray);
      font-weight: 500;
    }
    
    .book-description {
      font-size: 0.95rem;
      color: var(--dark);
      margin-bottom: 1.25rem;
      flex: 1;
      line-height: 1.6;
    }
    
    .book-price {
      display: flex;
      align-items: baseline;
      gap: 0.75rem;
      margin-bottom: 1.25rem;
    }
    .price-current {
      font-size: 1.8rem;
      font-weight: 800;
      color: var(--primary);
    }
    .price-original {
      font-size: 1.1rem;
      color: var(--gray);
      text-decoration: line-through;
    }
    .price-discount {
      background: var(--danger);
      color: white;
      padding: 0.3rem 0.75rem;
      border-radius: 6px;
      font-size: 0.85rem;
      font-weight: 700;
    }
    
    .book-actions {
      display: flex;
      gap: 0.6rem;
      flex-wrap: wrap;
      margin-top: auto;
    }
    .book-actions .btn { flex: 1; min-width: 120px; }
    
    /* Bundle Offer */
    .bundle-offer {
      background: linear-gradient(135deg, var(--secondary), var(--secondary-dark));
      color: var(--dark);
      padding: 3rem 2rem;
      border-radius: var(--radius-lg);
      margin: 3rem 0;
      text-align: center;
      box-shadow: var(--shadow-xl);
      position: relative;
      overflow: hidden;
    }
    .bundle-offer::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -20%;
      width: 400px;
      height: 400px;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
    }
    .bundle-offer h3 {
      font-family: var(--font-serif);
      font-size: clamp(1.5rem, 4vw, 2rem);
      margin-bottom: 0.75rem;
      position: relative;
    }
    .bundle-offer p {
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
      position: relative;
    }
    .bundle-price {
      display: flex;
      justify-content: center;
      align-items: baseline;
      gap: 1.5rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      position: relative;
    }
    .bundle-price .price-current {
      font-size: 3rem;
      color: var(--primary);
    }
    .bundle-price .price-original {
      font-size: 1.5rem;
      opacity: 0.7;
    }
    .bundle-price .savings {
      background: var(--danger);
      color: white;
      padding: 0.6rem 1.25rem;
      border-radius: 10px;
      font-weight: 800;
      font-size: 1rem;
      animation: pulse 2s infinite;
    }
    
    /* Features Grid */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin: 3rem 0;
    }
    .feature-card {
      background: var(--white);
      padding: 2rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      text-align: center;
      transition: var(--transition);
      border-top: 4px solid var(--secondary);
    }
    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }
    .feature-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }
    .feature-card h3 {
      color: var(--primary);
      margin-bottom: 0.75rem;
      font-size: 1.2rem;
    }
    .feature-card p {
      color: var(--gray);
      font-size: 0.95rem;
    }
    
    /* Testimonials */
    .testimonials {
      background: var(--white);
      padding: 3.5rem 2rem;
      border-radius: var(--radius-lg);
      margin: 3.5rem 0;
      box-shadow: var(--shadow);
    }
    .testimonial-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2.5rem;
    }
    .testimonial-card {
      background: var(--light);
      padding: 2rem;
      border-radius: var(--radius);
      border-left: 5px solid var(--secondary);
      position: relative;
      transition: var(--transition);
    }
    .testimonial-card:hover {
      transform: translateX(5px);
      box-shadow: var(--shadow);
    }
    .testimonial-card::before {
      content: '"';
      position: absolute;
      top: 1rem;
      right: 1.5rem;
      font-size: 5rem;
      color: var(--secondary);
      opacity: 0.2;
      font-family: var(--font-serif);
      line-height: 1;
    }
    .testimonial-text {
      font-style: italic;
      margin-bottom: 1.25rem;
      font-size: 1rem;
      line-height: 1.7;
      color: var(--dark);
    }
    .testimonial-author {
      font-weight: 700;
      color: var(--primary);
      font-size: 1rem;
      margin-bottom: 0.25rem;
    }
    .testimonial-role {
      font-size: 0.9rem;
      color: var(--gray);
    }
    .testimonial-rating {
      color: #f59e0b;
      margin-bottom: 1rem;
      font-size: 0.95rem;
    }
    
    /* Citation Impact */
    .citation-impact {
      background: linear-gradient(135deg, var(--light), var(--gray-light));
      padding: 3.5rem 2rem;
      border-radius: var(--radius-lg);
      margin: 3.5rem 0;
      text-align: center;
    }
    .impact-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1.5rem;
      margin: 2.5rem 0;
    }
    .impact-stat {
      background: var(--white);
      padding: 2rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      transition: var(--transition);
    }
    .impact-stat:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }
    .impact-value {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--primary);
      display: block;
      margin-bottom: 0.5rem;
      background: var(--gradient-secondary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .impact-label {
      font-size: 0.95rem;
      color: var(--gray);
      font-weight: 500;
    }
    
    /* Newsletter */
    .newsletter {
      background: var(--gradient-primary);
      color: var(--white);
      padding: clamp(2.5rem, 5vw, 3.5rem) 2rem;
      border-radius: var(--radius-lg);
      margin: 3.5rem 0;
      text-align: center;
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow-xl);
    }
    .newsletter::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at bottom left, rgba(201,169,97,0.25), transparent 60%);
      pointer-events: none;
    }
    .newsletter-content {
      position: relative;
      z-index: 1;
      max-width: 650px;
      margin: 0 auto;
    }
    .newsletter h3 {
      font-family: var(--font-serif);
      font-size: clamp(1.5rem, 4vw, 2.2rem);
      margin-bottom: 0.75rem;
    }
    .newsletter p {
      opacity: 0.95;
      margin-bottom: 2rem;
      font-size: 1.1rem;
    }
    .newsletter-form {
      display: flex;
      gap: 0.75rem;
      max-width: 550px;
      margin: 0 auto;
      flex-wrap: wrap;
      justify-content: center;
    }
    .newsletter-form input {
      flex: 1;
      min-width: 250px;
      padding: 1rem 1.5rem;
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: var(--radius);
      font-size: 1rem;
      background: rgba(255,255,255,0.1);
      color: var(--white);
      transition: var(--transition-fast);
    }
    .newsletter-form input::placeholder { color: rgba(255,255,255,0.6); }
    .newsletter-form input:focus {
      outline: none;
      border-color: var(--secondary);
      background: rgba(255,255,255,0.2);
    }
    .newsletter-form button {
      background: var(--secondary);
      color: var(--dark);
      border: none;
      padding: 1rem 2.5rem;
      border-radius: var(--radius);
      font-weight: 700;
      cursor: pointer;
      transition: var(--transition);
      white-space: nowrap;
      font-size: 1rem;
    }
    .newsletter-form button:hover {
      background: var(--secondary-dark);
      transform: translateY(-2px);
      box-shadow: var(--shadow);
    }
    
    /* Contact */
    .contact-section {
      text-align: center;
      padding: 3rem 2rem;
      background: var(--white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      margin: 3.5rem 0;
    }
    .contact-section h3 {
      font-family: var(--font-serif);
      font-size: 1.8rem;
      color: var(--primary);
      margin-bottom: 1rem;
    }
    .contact-email {
      font-size: 1.3rem;
      color: var(--primary);
      font-weight: 600;
      margin: 1rem 0;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      border-bottom: 3px solid var(--secondary);
      padding-bottom: 0.25rem;
    }
    .contact-email:hover {
      color: var(--secondary);
      border-bottom-color: var(--primary);
    }
    .social-links {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
      flex-wrap: wrap;
    }
    .social-link {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--gradient-primary);
      color: var(--white);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      transition: var(--transition);
      box-shadow: var(--shadow);
    }
    .social-link:hover {
      transform: translateY(-5px) rotate(10deg);
      box-shadow: var(--shadow-lg);
    }
    
    /* Footer */
    footer {
      background: var(--primary-dark);
      color: rgba(255,255,255,0.85);
      padding: 3.5rem 1.5rem 2rem;
      margin-top: 4rem;
    }
    .footer-grid {
      max-width: var(--container-max);
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 2.5rem;
    }
    .footer-col h4 {
      color: var(--white);
      font-weight: 700;
      margin-bottom: 1.25rem;
      font-size: 1.1rem;
      position: relative;
      padding-bottom: 0.75rem;
    }
    .footer-col h4::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 3px;
      background: var(--gradient-secondary);
    }
    .footer-col a {
      display: block;
      padding: 0.4rem 0;
      color: rgba(255,255,255,0.75);
      transition: var(--transition-fast);
      font-size: 0.95rem;
    }
    .footer-col a:hover {
      color: var(--secondary);
      transform: translateX(5px);
    }
    .footer-bottom {
      max-width: var(--container-max);
      margin: 2.5rem auto 0;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(255,255,255,0.1);
      text-align: center;
      font-size: 0.9rem;
      opacity: 0.8;
    }
    .payment-methods {
      display: flex;
      justify-content: center;
      gap: 0.75rem;
      margin: 1rem 0;
      font-size: 2rem;
    }
    
    /* AI Chatbot */
    .ai-chatbot {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      z-index: 3000;
    }
    .chatbot-toggle {
      width: 65px;
      height: 65px;
      border-radius: 50%;
      background: var(--gradient-secondary);
      color: var(--dark);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      transition: var(--transition);
      animation: bounce 2s infinite;
    }
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-10px); }
      60% { transform: translateY(-5px); }
    }
    .chatbot-toggle:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-xl);
      animation: none;
    }
    .chatbot-window {
      position: absolute;
      bottom: 80px;
      right: 0;
      width: 380px;
      max-width: calc(100vw - 4rem);
      height: 550px;
      background: var(--white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-xl);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      opacity: 0;
      visibility: hidden;
      transform: translateY(20px) scale(0.95);
      transition: var(--transition);
    }
    .chatbot-window.open {
      opacity: 1;
      visibility: visible;
      transform: translateY(0) scale(1);
    }
    .chatbot-header {
      background: var(--gradient-primary);
      color: var(--white);
      padding: 1.25rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.75rem;
    }
    .chatbot-header-info {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    .chatbot-avatar {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background: var(--secondary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
    }
    .chatbot-title h4 {
      font-size: 1.1rem;
      margin-bottom: 0.2rem;
    }
    .chatbot-status {
      font-size: 0.85rem;
      opacity: 0.9;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    .chatbot-status::before {
      content: '';
      width: 8px;
      height: 8px;
      background: var(--success);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }
    .chatbot-close {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      color: var(--white);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition-fast);
      font-size: 1.2rem;
    }
    .chatbot-close:hover {
      background: rgba(255,255,255,0.3);
      transform: rotate(90deg);
    }
    .chatbot-messages {
      flex: 1;
      overflow-y: auto;
      padding: 1.25rem;
      background: var(--light);
    }
    .chat-message {
      margin-bottom: 1rem;
      display: flex;
      gap: 0.75rem;
      animation: slideIn 0.3s ease;
    }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .chat-message.bot { flex-direction: row; }
    .chat-message.user { flex-direction: row-reverse; }
    .chat-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--secondary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      flex-shrink: 0;
    }
    .chat-message.user .chat-avatar {
      background: var(--primary);
      color: var(--white);
    }
    .chat-bubble {
      max-width: 75%;
      padding: 0.85rem 1.1rem;
      border-radius: var(--radius);
      font-size: 0.95rem;
      line-height: 1.5;
    }
    .chat-message.bot .chat-bubble {
      background: var(--white);
      border-bottom-left-radius: 4px;
      box-shadow: var(--shadow-sm);
    }
    .chat-message.user .chat-bubble {
      background: var(--gradient-primary);
      color: var(--white);
      border-bottom-right-radius: 4px;
    }
    .chatbot-input {
      padding: 1.25rem;
      background: var(--white);
      border-top: 1px solid var(--gray-light);
      display: flex;
      gap: 0.75rem;
    }
    .chatbot-input input {
      flex: 1;
      padding: 0.85rem 1.1rem;
      border: 2px solid var(--gray-light);
      border-radius: var(--radius);
      font-size: 0.95rem;
      transition: var(--transition-fast);
    }
    .chatbot-input input:focus {
      outline: none;
      border-color: var(--secondary);
    }
    .chatbot-input button {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: var(--gradient-secondary);
      color: var(--dark);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      cursor: pointer;
      transition: var(--transition-fast);
    }
    .chatbot-input button:hover {
      transform: scale(1.05);
    }
    .chatbot-input button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    /* Live Chat Buttons */
    .live-chat-buttons {
      position: fixed;
      bottom: 2rem;
      left: 2rem;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      z-index: 2999;
    }
    .live-chat-btn {
      width: 55px;
      height: 55px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: var(--white);
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      transition: var(--transition);
      position: relative;
    }
    .live-chat-btn:hover {
      transform: translateY(-5px) scale(1.1);
      box-shadow: var(--shadow-xl);
    }
    .live-chat-btn.whatsapp { background: #25D366; }
    .live-chat-btn.messenger { background: #0084FF; }
    .live-chat-btn.telegram { background: #0088cc; }
    .live-chat-btn::after {
      content: attr(data-label);
      position: absolute;
      right: 65px;
      background: var(--dark);
      color: var(--white);
      padding: 0.4rem 0.85rem;
      border-radius: 8px;
      font-size: 0.85rem;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition-fast);
    }
    .live-chat-btn:hover::after {
      opacity: 1;
      visibility: visible;
      right: 70px;
    }
    
    /* Cart Drawer */
    .cart-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      z-index: 2998;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
      backdrop-filter: blur(4px);
    }
    .cart-overlay.open { opacity: 1; visibility: visible; }
    .cart-drawer {
      position: fixed;
      top: 0;
      right: -450px;
      width: 420px;
      max-width: 100%;
      height: 100vh;
      background: var(--white);
      box-shadow: var(--shadow-xl);
      z-index: 2999;
      transition: right 0.35s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      flex-direction: column;
    }
    .cart-drawer.open { right: 0; }
    .cart-header {
      padding: 1.75rem;
      border-bottom: 1px solid var(--gray-light);
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--gradient-primary);
      color: var(--white);
    }
    .cart-title {
      font-size: 1.4rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.6rem;
    }
    .cart-close {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      color: var(--white);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition-fast);
      font-size: 1.3rem;
    }
    .cart-close:hover {
      background: rgba(255,255,255,0.3);
      transform: rotate(90deg);
    }
    .cart-items {
      flex: 1;
      overflow-y: auto;
      padding: 1.5rem;
    }
    .cart-empty {
      text-align: center;
      padding: 3rem 1rem;
      color: var(--gray);
    }
    .cart-empty-icon {
      font-size: 4rem;
      margin-bottom: 1rem;
      opacity: 0.4;
    }
    .cart-item {
      display: flex;
      gap: 1rem;
      padding: 1.25rem;
      background: var(--light);
      border-radius: var(--radius);
      margin-bottom: 1rem;
      transition: var(--transition-fast);
    }
    .cart-item:hover {
      box-shadow: var(--shadow);
      transform: translateX(-3px);
    }
    .cart-item-image {
      width: 80px;
      height: 100px;
      background: var(--gradient-primary);
      border-radius: var(--radius);
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: var(--white);
    }
    .cart-item-info { flex: 1; }
    .cart-item-title {
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 0.4rem;
      color: var(--primary);
    }
    .cart-item-price {
      font-weight: 700;
      color: var(--secondary);
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
    }
    .cart-item-qty {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      margin-bottom: 0.5rem;
    }
    .qty-btn {
      width: 30px;
      height: 30px;
      border-radius: 6px;
      background: var(--white);
      border: 1px solid var(--gray-light);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      transition: var(--transition-fast);
    }
    .qty-btn:hover {
      background: var(--secondary);
      border-color: var(--secondary);
      color: var(--dark);
    }
    .cart-item-remove {
      color: var(--danger);
      background: none;
      border: none;
      font-size: 0.85rem;
      cursor: pointer;
      font-weight: 500;
      padding: 0.25rem 0;
      transition: var(--transition-fast);
    }
    .cart-item-remove:hover {
      text-decoration: underline;
    }
    .cart-footer {
      padding: 1.75rem;
      border-top: 1px solid var(--gray-light);
      background: var(--light);
    }
    .cart-subtotal {
      display: flex;
      justify-content: space-between;
      font-size: 1.1rem;
      margin-bottom: 0.75rem;
      color: var(--gray);
    }
    .cart-total {
      display: flex;
      justify-content: space-between;
      font-size: 1.4rem;
      font-weight: 800;
      margin-bottom: 1.25rem;
      color: var(--primary);
      padding-bottom: 1.25rem;
      border-bottom: 2px solid var(--gray-light);
    }
    .cart-checkout-btn {
      width: 100%;
      padding: 1.25rem;
      background: var(--gradient-secondary);
      color: var(--dark);
      border: none;
      border-radius: var(--radius);
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
      transition: var(--transition);
      margin-bottom: 0.75rem;
    }
    .cart-checkout-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }
    .cart-checkout-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    .cart-continue-shopping {
      width: 100%;
      padding: 0.85rem;
      background: transparent;
      color: var(--primary);
      border: 2px solid var(--primary);
      border-radius: var(--radius);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition-fast);
    }
    .cart-continue-shopping:hover {
      background: var(--primary);
      color: var(--white);
    }
    
    /* Quick View Modal */
    .quick-view-modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 3000;
      padding: 1.5rem;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
      backdrop-filter: blur(8px);
    }
    .quick-view-modal.open {
      opacity: 1;
      visibility: visible;
    }
    .quick-view-content {
      background: var(--white);
      border-radius: var(--radius-lg);
      max-width: 950px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      transform: scale(0.9) translateY(20px);
      transition: var(--transition);
      box-shadow: var(--shadow-xl);
    }
    .quick-view-modal.open .quick-view-content {
      transform: scale(1) translateY(0);
    }
    .quick-view-close {
      position: absolute;
      top: 1.25rem;
      right: 1.25rem;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: var(--white);
      color: var(--dark);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.4rem;
      box-shadow: var(--shadow);
      z-index: 1;
      transition: var(--transition-fast);
    }
    .quick-view-close:hover {
      background: var(--danger);
      color: var(--white);
      transform: rotate(90deg);
    }
    .quick-view-body {
      display: grid;
      grid-template-columns: 1fr 1.2fr;
      gap: 0;
    }
    .quick-view-image {
      background: var(--gradient-primary);
      padding: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 400px;
    }
    .quick-view-image-content {
      text-align: center;
      color: var(--white);
    }
    .quick-view-image-icon {
      font-size: 6rem;
      margin-bottom: 1.5rem;
      display: block;
    }
    .quick-view-info {
      padding: 2.5rem;
    }
    .quick-view-title {
      font-family: var(--font-serif);
      font-size: 1.8rem;
      color: var(--primary);
      margin-bottom: 0.75rem;
      line-height: 1.3;
    }
    .quick-view-meta {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.75rem 1.5rem;
      margin: 1.5rem 0;
      padding: 1.25rem;
      background: var(--light);
      border-radius: var(--radius);
    }
    .quick-view-meta dt {
      font-weight: 600;
      color: var(--gray);
      font-size: 0.9rem;
    }
    .quick-view-meta dd {
      color: var(--dark);
      margin: 0;
      font-weight: 500;
    }
    .quick-view-description {
      font-size: 1rem;
      line-height: 1.7;
      margin: 1.5rem 0;
      color: var(--dark);
    }
    .quick-view-citation {
      background: var(--light);
      border-left: 4px solid var(--secondary);
      padding: 1.25rem;
      margin: 1.5rem 0;
      border-radius: 0 var(--radius) var(--radius) 0;
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 0.85rem;
      overflow-x: auto;
    }
    .quick-view-actions {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--gray-light);
    }
    .quick-view-actions .btn { flex: 1; min-width: 150px; }
    
    /* Toast Notifications */
    .toast-container {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      z-index: 4000;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    .toast {
      background: var(--white);
      color: var(--dark);
      padding: 1rem 1.5rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow-xl);
      display: flex;
      align-items: center;
      gap: 0.85rem;
      min-width: 300px;
      max-width: 450px;
      animation: slideInRight 0.3s ease;
      border-left: 4px solid var(--success);
    }
    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(100px); }
      to { opacity: 1; transform: translateX(0); }
    }
    .toast.error { border-left-color: var(--danger); }
    .toast.warning { border-left-color: var(--warning); }
    .toast.info { border-left-color: var(--info); }
    .toast-icon {
      font-size: 1.3rem;
    }
    .toast.success .toast-icon { color: var(--success); }
    .toast.error .toast-icon { color: var(--danger); }
    .toast.warning .toast-icon { color: var(--warning); }
    .toast.info .toast-icon { color: var(--info); }
    .toast-message {
      flex: 1;
      font-weight: 500;
    }
    .toast-close {
      background: none;
      border: none;
      font-size: 1.2rem;
      cursor: pointer;
      color: var(--gray);
      padding: 0.25rem;
      transition: var(--transition-fast);
    }
    .toast-close:hover { color: var(--dark); }
    
    /* Search Bar */
    .search-bar {
      position: relative;
      max-width: 600px;
      margin: 2.5rem auto;
    }
    .search-input {
      width: 100%;
      padding: 1.1rem 3.5rem 1.1rem 1.5rem;
      border: 2px solid var(--gray-light);
      border-radius: 50px;
      font-size: 1rem;
      background: var(--white);
      transition: var(--transition);
    }
    .search-input:focus {
      outline: none;
      border-color: var(--secondary);
      box-shadow: 0 0 0 4px rgba(201,169,97,0.1);
    }
    .search-btn {
      position: absolute;
      right: 6px;
      top: 50%;
      transform: translateY(-50%);
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: var(--gradient-secondary);
      color: var(--dark);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition-fast);
    }
    .search-btn:hover {
      transform: translateY(-50%) scale(1.05);
    }
    
    /* Responsive */
    @media (max-width: 1024px) {
      .quick-view-body { grid-template-columns: 1fr; }
      .quick-view-image { min-height: 250px; }
    }
    @media (max-width: 768px) {
      .menu-toggle { display: flex; }
      nav {
        position: fixed;
        top: var(--header-height);
        left: 0;
        right: 0;
        background: var(--primary-dark);
        flex-direction: column;
        padding: 1.5rem;
        gap: 0.75rem;
        transform: translateY(-150%);
        transition: transform 0.3s ease;
        z-index: 999;
      }
      nav.open { transform: translateY(0); }
      nav a { width: 100%; text-align: center; padding: 0.85rem; }
      .header-actions { gap: 0.5rem; }
      .lang-selector { display: none; }
      .hero-stats { grid-template-columns: repeat(2, 1fr); }
      .books-grid { grid-template-columns: 1fr; }
      .features-grid { grid-template-columns: 1fr; }
      .testimonial-grid { grid-template-columns: 1fr; }
      .impact-stats { grid-template-columns: repeat(2, 1fr); }
      .newsletter-form { flex-direction: column; }
      .newsletter-form input, .newsletter-form button { width: 100%; }
      .cart-drawer { width: 100%; max-width: 100%; right: -100%; }
      .live-chat-buttons { bottom: 6rem; left: 1rem; }
      .ai-chatbot { bottom: 6rem; right: 1rem; }
      .chatbot-window {
        width: calc(100vw - 2rem);
        height: calc(100vh - 10rem);
        bottom: 70px;
        right: 0;
      }
    }
    
    /* Print */
    @media print {
      header, footer, .book-actions, .newsletter, .cart-drawer, .cart-overlay, .ai-chatbot, .live-chat-buttons { display: none !important; }
      .quick-view-modal { position: static; background: none; padding: 0; }
      .quick-view-content { box-shadow: none; max-height: none; }
      .quick-view-close { display: none; }
      body { background: white; color: black; }
      .citation-box { border: 1px solid #ccc; page-break-inside: avoid; }
    }
    
    /* Accessibility */
    :focus-visible {
      outline: 3px solid var(--secondary);
      outline-offset: 2px;
    }
    button:focus:not(:focus-visible),
    a:focus:not(:focus-visible) { outline: none; }
    
    /* Language Visibility */
    [data-lang]:not([data-lang="mk"]) { display: none; }
    [data-lang="en"] { display: none; }
    body.lang-en [data-lang="mk"] { display: none !important; }
    body.lang-en [data-lang="en"] { display: block !important; }
  </style>
</head>
<body>

  <!-- Skip Link -->
  <a href="#main-content" class="skip-link">Прескокни до главна содржина</a>

  <!-- Header -->
  <header>
    <div class="header-container">
      <a href="#" class="logo" aria-label="World Protocol Academy Home">
        <img src="logo.png" alt="World Protocol Academy Logo">
        <div class="logo-text">
          <span>WORLD PROTOCOL</span>
          <span>ACADEMY</span>
        </div>
      </a>
      
      <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="main-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
      <nav id="main-nav" aria-label="Main navigation">
        <a href="#books"><i class="fas fa-book"></i> <span data-lang="mk">Книги</span><span data-lang="en">Books</span></a>
        <a href="#features"><i class="fas fa-star"></i> <span data-lang="mk">Карактеристики</span><span data-lang="en">Features</span></a>
        <a href="#impact"><i class="fas fa-chart-line"></i> <span data-lang="mk">Влијание</span><span data-lang="en">Impact</span></a>
        <a href="#testimonials"><i class="fas fa-comments"></i> <span data-lang="mk">Отзиви</span><span data-lang="en">Reviews</span></a>
        <a href="#contact"><i class="fas fa-envelope"></i> <span data-lang="mk">Контакт</span><span data-lang="en">Contact</span></a>
      </nav>
      
      <div class="header-actions">
        <!-- Theme Toggle -->
        <div class="theme-toggle" role="switch" aria-label="Toggle dark mode" tabindex="0">
          <div class="theme-toggle-slider">
            <i class="fas fa-sun"></i>
          </div>
        </div>
        
        <!-- Language Selector -->
        <div class="lang-selector" role="group" aria-label="Language selector">
          <button class="lang-btn active" data-lang-toggle="mk" aria-pressed="true">МК</button>
          <button class="lang-btn" data-lang-toggle="en" aria-pressed="false">EN</button>
        </div>
        
        <!-- Cart Button -->
        <button class="icon-btn cart-btn" aria-label="Shopping cart" aria-haspopup="dialog" aria-expanded="false">
          <i class="fas fa-shopping-cart"></i>
          <span class="badge" hidden>0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main id="main-content">
    
    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-content">
        <span class="hero-badge">
          <i class="fas fa-award"></i>
          <span data-lang="mk">25 ГОДИНИ НАУЧНА ИЗВОНРЕДНОСТ</span>
          <span data-lang="en">25 YEARS OF SCIENTIFIC EXCELLENCE</span>
        </span>
        
        <h1>
          <span data-lang="mk">Доц. д-р Санде Смиљанов</span>
          <span data-lang="en">Assoc. Prof. Sande Smiljanov, PhD</span>
        </h1>
        
        <p class="hero-subtitle">
          <span data-lang="mk">Научни монографии за дипломатија, протокол и безбедност во 21 век — достапни глобално, моментално, професионално. Поддржано со AI асистент.</span>
          <span data-lang="en">Academic monographs on diplomacy, protocol and security in the 21st century — globally available, instantly delivered, professionally crafted. AI-powered.</span>
        </p>
        
        <div class="hero-stats">
          <div class="stat-item">
            <span class="stat-value">4</span>
            <span class="stat-label" data-lang="mk">Монографии</span>
            <span class="stat-label" data-lang="en">Monographs</span>
          </div>
          <div class="stat-item">
            <span class="stat-value">25+</span>
            <span class="stat-label" data-lang="mk">Години истражување</span>
            <span class="stat-label" data-lang="en">Years Research</span>
          </div>
          <div class="stat-item">
            <span class="stat-value" id="citation-count">192</span>
            <span class="stat-label" data-lang="mk">Цитати</span>
            <span class="stat-label" data-lang="en">Citations</span>
          </div>
          <div class="stat-item">
            <span class="stat-value">47</span>
            <span class="stat-label" data-lang="mk">Земји</span>
            <span class="stat-label" data-lang="en">Countries</span>
          </div>
        </div>
        
        <div class="hero-cta">
          <a href="#books" class="btn btn-lg btn-primary">
            <i class="fas fa-shopping-bag"></i>
            <span data-lang="mk">КУПИ СЕГА</span>
            <span data-lang="en">BUY NOW</span>
          </a>
          <a href="#features" class="btn btn-lg btn-outline">
            <i class="fas fa-play-circle"></i>
            <span data-lang="mk">Истражи</span>
            <span data-lang="en">Explore</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Search Bar -->
    <div class="search-bar">
      <input type="text" class="search-input" id="searchInput" placeholder="Пребарай книги, теми, ISBN..." data-lang="mk">
      <input type="text" class="search-input" id="searchInputEn" placeholder="Search books, topics, ISBN..." data-lang="en" style="display:none">
      <button class="search-btn" aria-label="Search">
        <i class="fas fa-search"></i>
      </button>
    </div>

    <!-- Books Section -->
    <section id="books">
      <div class="section-header">
        <h2>
          <span data-lang="mk">📖 НАШИТЕ ПУБЛИКАЦИИ</span>
          <span data-lang="en">📖 OUR PUBLICATIONS</span>
        </h2>
        <p>
          <span data-lang="mk">Професионално форматирани дигитални изданија • Моментална достава • Академски цитати вклучени • AI асистент 24/7</span>
          <span data-lang="en">Professionally formatted digital editions • Instant delivery • Academic citations included • 24/7 AI assistant</span>
        </p>
      </div>
      
      <div class="books-grid">
        
        <!-- Book 1: Digital Era (FEATURED) -->
        <article class="book-card featured" itemscope itemtype="https://schema.org/Book">
          <span class="book-badge" data-lang="mk">НАЈПРОДАВАНА</span>
          <span class="book-badge" data-lang="en">BESTSELLER</span>
          <div class="book-cover" data-quick-view="digital-era">
            <div class="book-cover-content">
              <span class="book-cover-icon">📘</span>
              <span itemprop="name" data-lang="mk">Дигитална Ера</span>
              <span itemprop="name" data-lang="en">Digital Era</span>
            </div>
          </div>
          <div class="book-info">
            <h3 class="book-title" itemprop="name" data-lang="mk">Дигитална Ера: Трансформација, Безбедност, Протокол</h3>
            <h3 class="book-title" itemprop="name" data-lang="en">Digital Era: Transformation, Security, Protocol</h3>
            <p class="book-author" data-lang="mk">Доц. д-р Санде Смиљанов</p>
            <p class="book-author" data-lang="en">Assoc. Prof. Sande Smiljanov, PhD</p>
            
            <div class="book-meta">
              <span><i class="far fa-calendar"></i> 2023</span>
              <span><i class="fas fa-barcode"></i> ISBN: <span itemprop="isbn">978-608-66168-0-9</span></span>
              <span><i class="fas fa-globe"></i> МК/EN</span>
            </div>
            
            <div class="book-rating">
              <span class="stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></span>
              <span class="rating-count">(48)</span>
            </div>
            
            <p class="book-description" itemprop="description" data-lang="mk">Анализа на дигиталната трансформација во дипломатијата и безбедносните протоколи во 21 век.</p>
            <p class="book-description" itemprop="description" data-lang="en">Analysis of digital transformation in diplomacy and security protocols in the 21st century.</p>
            
            <div class="book-price">
              <span class="price-current">$19.99</span>
              <span class="price-original">$29.99</span>
              <span class="price-discount">-33%</span>
            </div>
            
            <div class="book-actions">
              <button class="btn btn-sm" data-quick-view="digital-era">
                <i class="fas fa-eye"></i>
                <span data-lang="mk">Преглед</span>
                <span data-lang="en">Preview</span>
              </button>
              <button class="btn btn-sm add-to-cart" data-product-id="digital-era" data-product-name="Digital Era Bundle" data-product-price="19.99">
                <i class="fas fa-cart-plus"></i>
                <span data-lang="mk">Додади</span>
                <span data-lang="en">Add</span>
              </button>
            </div>
          </div>
        </article>

        <!-- Book 2: State Protocol -->
        <article class="book-card" itemscope itemtype="https://schema.org/Book">
          <div class="book-cover" data-quick-view="state-protocol">
            <div class="book-cover-content">
              <span class="book-cover-icon">📙</span>
              <span itemprop="name" data-lang="mk">Државен Протокол</span>
              <span itemprop="name" data-lang="en">State Protocol</span>
            </div>
          </div>
          <div class="book-info">
            <h3 class="book-title" itemprop="name" data-lang="mk">Воспоставување на единствен државен протокол</h3>
            <h3 class="book-title" itemprop="name" data-lang="en">Establishing a Unified State Protocol</h3>
            <p class="book-author">Assoc. Prof. Sande Smiljanov, PhD</p>
            <div class="book-meta">
              <span><i class="far fa-calendar"></i> 2022</span>
              <span><i class="fas fa-barcode"></i> ISBN: <span itemprop="isbn">978-608-66168-2-3</span></span>
              <span><i class="fas fa-globe"></i> МК/EN</span>
            </div>
            <div class="book-rating">
              <span class="stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></span>
              <span class="rating-count">(36)</span>
            </div>
            <p class="book-description" data-lang="mk">Комплетен прирачник за имплементација на стандардизиран државен протокол.</p>
            <p class="book-description" data-lang="en">Comprehensive guide for implementing standardized state protocol.</p>
            <div class="book-price">
              <span class="price-current">$17.99</span>
            </div>
            <div class="book-actions">
              <button class="btn btn-sm" data-quick-view="state-protocol">
                <i class="fas fa-eye"></i>
                <span data-lang="mk">Преглед</span>
                <span data-lang="en">Preview</span>
              </button>
              <button class="btn btn-sm add-to-cart" data-product-id="state-protocol" data-product-name="State Protocol Guide" data-product-price="17.99">
                <i class="fas fa-cart-plus"></i>
                <span data-lang="mk">Додади</span>
                <span data-lang="en">Add</span>
              </button>
            </div>
          </div>
        </article>

        <!-- Book 3: Diplomacy & Security -->
        <article class="book-card" itemscope itemtype="https://schema.org/Book">
          <div class="book-cover" data-quick-view="diplomacy-security">
            <div class="book-cover-content">
              <span class="book-cover-icon">📗</span>
              <span itemprop="name" data-lang="mk">Дипломатија & Безбедност</span>
              <span itemprop="name" data-lang="en">Diplomacy & Security</span>
            </div>
          </div>
          <div class="book-info">
            <h3 class="book-title" itemprop="name" data-lang="mk">Дипломатија & Безбедност: Предизвици во 21 век</h3>
            <h3 class="book-title" itemprop="name" data-lang="en">Diplomacy & Security: 21st Century Challenges</h3>
            <p class="book-author">Assoc. Prof. Sande Smiljanov, PhD</p>
            <div class="book-meta">
              <span><i class="far fa-calendar"></i> 2024</span>
              <span><i class="fas fa-barcode"></i> ISBN: <span itemprop="isbn">978-608-66168-4-7</span></span>
              <span><i class="fas fa-globe"></i> МК/EN</span>
            </div>
            <div class="book-rating">
              <span class="stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i></span>
              <span class="rating-count">(22)</span>
            </div>
            <p class="book-description" data-lang="mk">Стратегии за модерна дипломатија во ера на глобални предизвици.</p>
            <p class="book-description" data-lang="en">Strategies for modern diplomacy in an era of global challenges.</p>
            <div class="book-price">
              <span class="price-current">$21.99</span>
            </div>
            <div class="book-actions">
              <button class="btn btn-sm" data-quick-view="diplomacy-security">
                <i class="fas fa-eye"></i>
                <span data-lang="mk">Преглед</span>
                <span data-lang="en">Preview</span>
              </button>
              <button class="btn btn-sm add-to-cart" data-product-id="diplomacy-security" data-product-name="Diplomacy & Security" data-product-price="21.99">
                <i class="fas fa-cart-plus"></i>
                <span data-lang="mk">Додади</span>
                <span data-lang="en">Add</span>
              </button>
            </div>
          </div>
        </article>

        <!-- Book 4: Conference Handbook -->
        <article class="book-card" itemscope itemtype="https://schema.org/Book">
          <div class="book-cover" data-quick-view="conference-handbook">
            <div class="book-cover-content">
              <span class="book-cover-icon">📕</span>
              <span itemprop="name" data-lang="mk">Прирачник за конференции</span>
              <span itemprop="name" data-lang="en">Conference Handbook</span>
            </div>
          </div>
          <div class="book-info">
            <h3 class="book-title" itemprop="name" data-lang="mk">Прирачник за организирање на конференции и протоколарни настани</h3>
            <h3 class="book-title" itemprop="name" data-lang="en">Handbook for Organizing Conferences & Protocol Events</h3>
            <p class="book-author">Assoc. Prof. Sande Smiljanov, PhD</p>
            <div class="book-meta">
              <span><i class="far fa-calendar"></i> 2024</span>
              <span><i class="fas fa-barcode"></i> ISBN: <span itemprop="isbn">978-608-66168-6-1</span></span>
              <span><i class="fas fa-globe"></i> МК/EN</span>
            </div>
            <div class="book-rating">
              <span class="stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></span>
              <span class="rating-count">(19)</span>
            </div>
            <p class="book-description" data-lang="mk">Практичен водич за професионално организирање на настани.</p>
            <p class="book-description" data-lang="en">Practical guide for professional event organization.</p>
            <div class="book-price">
              <span class="price-current">$15.99</span>
            </div>
            <div class="book-actions">
              <button class="btn btn-sm" data-quick-view="conference-handbook">
                <i class="fas fa-eye"></i>
                <span data-lang="mk">Преглед</span>
                <span data-lang="en">Preview</span>
              </button>
              <button class="btn btn-sm add-to-cart" data-product-id="conference-handbook" data-product-name="Conference Handbook" data-product-price="15.99">
                <i class="fas fa-cart-plus"></i>
                <span data-lang="mk">Додади</span>
                <span data-lang="en">Add</span>
              </button>
            </div>
          </div>
        </article>

      </div>
      
      <!-- Bundle Offer -->
      <div class="bundle-offer">
        <h3>
          <i class="fas fa-gift"></i>
          <span data-lang="mk">СПЕЦИЈАЛНА ПОНУДА: Целиот пакет</span>
          <span data-lang="en">SPECIAL OFFER: Complete Bundle</span>
        </h3>
        <p>
          <span data-lang="mk">Сите 4 монографии + бонус материјали + доживотни ажурирања + AI асистент пристап</span>
          <span data-lang="en">All 4 monographs + bonus materials + lifetime updates + AI assistant access</span>
        </p>
        <div class="bundle-price">
          <span class="price-current">$59.99</span>
          <span class="price-original">$75.96</span>
          <span class="savings">SAVE 21%</span>
        </div>
        <button class="btn btn-lg" id="buyBundleBtn">
          <i class="fas fa-shopping-cart"></i>
          <span data-lang="mk">КУПИ ГО ПАКЕТОТ СЕГА</span>
          <span data-lang="en">BUY BUNDLE NOW</span>
        </button>
      </div>
    </section>

    <!-- Features Section -->
    <section id="features">
      <div class="section-header">
        <h2>
          <span data-lang="mk">⭐ ЗОШТО ДА ИЗБЕРЕТЕ НАС?</span>
          <span data-lang="en">⭐ WHY CHOOSE US?</span>
        </h2>
      </div>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">⚡</div>
          <h3 data-lang="mk">Моментална достава</h3>
          <h3 data-lang="en">Instant Delivery</h3>
          <p data-lang="mk">Дигитални фајлови веднаш по плаќањето</p>
          <p data-lang="en">Digital files immediately after payment</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">🔒</div>
          <h3 data-lang="mk">Безбедно плаќање</h3>
          <h3 data-lang="en">Secure Payment</h3>
          <p data-lang="mk">SSL енкрипција + PayPal + Stripe</p>
          <p data-lang="en">SSL encryption + PayPal + Stripe</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">🤖</div>
          <h3 data-lang="mk">AI асистент 24/7</h3>
          <h3 data-lang="en">24/7 AI Assistant</h3>
          <p data-lang="mk">Помош во секое време</p>
          <p data-lang="en">Help at any time</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">📚</div>
          <h3 data-lang="mk">Академски цитати</h3>
          <h3 data-lang="en">Academic Citations</h3>
          <p data-lang="mk">BibTeX, APA, MLA формати</p>
          <p data-lang="en">BibTeX, APA, MLA formats</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">🌍</div>
          <h3 data-lang="mk">Глобална достапност</h3>
          <h3 data-lang="en">Global Availability</h3>
          <p data-lang="mk">Достапно во 47+ земји</p>
          <p data-lang="en">Available in 47+ countries</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">💎</div>
          <h3 data-lang="mk">Premium квалитет</h3>
          <h3 data-lang="en">Premium Quality</h3>
          <p data-lang="mk">Професионално форматирање</p>
          <p data-lang="en">Professional formatting</p>
        </div>
      </div>
    </section>

    <!-- Citation Impact Section -->
    <section id="impact" class="citation-impact">
      <div class="section-header">
        <h2>
          <span data-lang="mk">📊 АКАДЕМСКО ВЛИЈАНИЕ</span>
          <span data-lang="en">📊 ACADEMIC IMPACT</span>
        </h2>
        <p>
          <span data-lang="mk">Вашата инвестиција во наука сега генерира глобално влијание и цитираност</span>
          <span data-lang="en">Your investment in science now generates global impact and citations</span>
        </p>
      </div>
      
      <div class="impact-stats">
        <div class="impact-stat">
          <span class="impact-value" id="total-citations">192</span>
          <span class="impact-label" data-lang="mk">Вкупно цитати</span>
          <span class="impact-label" data-lang="en">Total Citations</span>
        </div>
        <div class="impact-stat">
          <span class="impact-value">47</span>
          <span class="impact-label" data-lang="mk">Земји</span>
          <span class="impact-label" data-lang="en">Countries</span>
        </div>
        <div class="impact-stat">
          <span class="impact-value">8.4</span>
          <span class="impact-label" data-lang="mk">H-индекс</span>
          <span class="impact-label" data-lang="en">H-Index</span>
        </div>
        <div class="impact-stat">
          <span class="impact-value">12k+</span>
          <span class="impact-label" data-lang="mk">Преземања</span>
          <span class="impact-label" data-lang="en">Downloads</span>
        </div>
      </div>
      
      <div style="margin-top: 2rem;">
        <a href="https://scholar.google.com/citations?user=YOUR_ID" target="_blank" rel="noopener" class="btn btn-outline" style="border-color: var(--primary); color: var(--primary); margin: 0 0.5rem 0.5rem;">
          <i class="fab fa-google"></i> Google Scholar
        </a>
        <a href="https://www.researchgate.net/profile/Sande-Smiljanov" target="_blank" rel="noopener" class="btn btn-outline" style="border-color: var(--primary); color: var(--primary); margin: 0 0.5rem 0.5rem;">
          <i class="fab fa-researchgate"></i> ResearchGate
        </a>
        <a href="https://orcid.org/YOUR_ORCID_ID" target="_blank" rel="noopener" class="btn btn-outline" style="border-color: var(--primary); color: var(--primary); margin: 0 0.5rem 0.5rem;">
          <i class="fab fa-orcid"></i> ORCID
        </a>
      </div>
    </section>

    <!-- Testimonials -->
    <section id="testimonials" class="testimonials">
      <div class="section-header">
        <h2>
          <span data-lang="mk">💬 ШТО ВЕЛАТ ЧИТАТЕЛИТЕ</span>
          <span data-lang="en">💬 WHAT READERS SAY</span>
        </h2>
      </div>
      <div class="testimonial-grid">
        <div class="testimonial-card">
          <div class="testimonial-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
          </div>
          <p class="testimonial-text" data-lang="mk">„Неопходен ресурс за секој професионалец во дипломатијата. Јасно, практично, академски строго."</p>
          <p class="testimonial-text" data-lang="en">"An essential resource for every diplomacy professional. Clear, practical, academically rigorous."</p>
          <p class="testimonial-author">Dr. Elena Petrova</p>
          <p class="testimonial-role" data-lang="mk">Професор по меѓународни односи, Софија</p>
          <p class="testimonial-role" data-lang="en">Professor of International Relations, Sofia</p>
        </div>
        <div class="testimonial-card">
          <div class="testimonial-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
          </div>
          <p class="testimonial-text" data-lang="mk">„Купив го пакетот за мојот тим — најдобрата инвестиција во професионален развој."</p>
          <p class="testimonial-text" data-lang="en">"Bought the bundle for my team — best investment in professional development."</p>
          <p class="testimonial-author">Marko Jovanović</p>
          <p class="testimonial-role" data-lang="mk">Директор, Протоколарна служба</p>
          <p class="testimonial-role" data-lang="en">Director, Protocol Service</p>
        </div>
        <div class="testimonial-card">
          <div class="testimonial-rating">
            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
          </div>
          <p class="testimonial-text" data-lang="mk">„Цитатите се совршено форматирани — ми заштеди часови во подготовка на труд."</p>
          <p class="testimonial-text" data-lang="en">"Citations perfectly formatted — saved me hours in paper preparation."</p>
          <p class="testimonial-author">Anna Kowalski, PhD</p>
          <p class="testimonial-role" data-lang="mk">Истражувач, Варшава</p>
          <p class="testimonial-role" data-lang="en">Researcher, Warsaw</p>
        </div>
      </div>
    </section>

    <!-- Newsletter -->
    <section class="newsletter">
      <div class="newsletter-content">
        <h3>
          <i class="fas fa-envelope-open-text"></i>
          <span data-lang="mk">БИДЕТЕ ПРВИ ЗА НОВИ ИЗДАНИЈА</span>
          <span data-lang="en">BE FIRST FOR NEW RELEASES</span>
        </h3>
        <p>
          <span data-lang="mk">Претплатете се за ексклузивни понуди, бесплатни поглавја и известувања за конференции.</span>
          <span data-lang="en">Subscribe for exclusive offers, free chapters, and conference announcements.</span>
        </p>
        
        <!-- FormSubmit.co Integration -->
        <form class="newsletter-form" action="https://formsubmit.co/worldprotocolacademy@gmail.com" method="POST">
          <input type="hidden" name="_subject" value="New Subscriber - World Protocol Academy">
          <input type="hidden" name="_captcha" value="false">
          <input type="hidden" name="_next" value="https://worldprotocolacademy-code.github.io/thanks.html">
          <input type="email" name="email" placeholder="your@email.com" required aria-label="Email address" data-lang="mk">
          <input type="email" name="email" placeholder="your@email.com" required aria-label="Email address" data-lang="en" style="display:none">
          <button type="submit">
            <i class="fas fa-paper-plane"></i>
            <span data-lang="mk">Претплати се бесплатно</span>
            <span data-lang="en">Subscribe Free</span>
          </button>
        </form>
        <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.9;">
          <i class="fas fa-shield-alt"></i>
          <span data-lang="mk">Вашата email адреса е заштитена. Никаков спам.</span>
          <span data-lang="en">Your email is protected. Zero spam.</span>
        </p>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="contact-section">
      <h3>
        <i class="fas fa-headset"></i>
        <span data-lang="mk">КОНТАКТИРАЈТЕ МЕ</span>
        <span data-lang="en">CONTACT ME</span>
      </h3>
      <p style="margin:1rem 0; font-size: 1.1rem;">
        <a href="mailto:worldprotocolacademy@gmail.com" class="contact-email">
          <i class="fas fa-envelope"></i>
          worldprotocolacademy@gmail.com
        </a>
      </p>
      <p data-lang="mk">Скопје, Република Северна Македонија</p>
      <p data-lang="en">Skopje, Republic of North Macedonia</p>
      
      <div class="social-links">
        <a href="https://scholar.google.com/citations?user=YOUR_ID" target="_blank" rel="noopener" class="social-link" aria-label="Google Scholar">
          <i class="fab fa-google"></i>
        </a>
        <a href="https://www.researchgate.net/profile/Sande-Smiljanov" target="_blank" rel="noopener" class="social-link" aria-label="ResearchGate">
          <i class="fab fa-researchgate"></i>
        </a>
        <a href="https://orcid.org/YOUR_ORCID_ID" target="_blank" rel="noopener" class="social-link" aria-label="ORCID">
          <i class="fab fa-orcid"></i>
        </a>
        <a href="https://linkedin.com/in/YOUR_LINKEDIN" target="_blank" rel="noopener" class="social-link" aria-label="LinkedIn">
          <i class="fab fa-linkedin-in"></i>
        </a>
        <a href="https://twitter.com/YOUR_TWITTER" target="_blank" rel="noopener" class="social-link" aria-label="Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-grid">
      <div class="footer-col">
        <h4 data-lang="mk">World Protocol Academy</h4>
        <h4 data-lang="en">World Protocol Academy</h4>
        <p style="font-size: 0.9rem; opacity: 0.9; margin-top: 0.5rem;" data-lang="mk">Научна извонредност во служба на дипломатијата</p>
        <p style="font-size: 0.9rem; opacity: 0.9; margin-top: 0.5rem;" data-lang="en">Scientific excellence in service of diplomacy</p>
      </div>
      <div class="footer-col">
        <h4 data-lang="mk">Брзи линкови</h4>
        <h4 data-lang="en">Quick Links</h4>
        <a href="#books"><i class="fas fa-book"></i> <span data-lang="mk">Книги</span><span data-lang="en">Books</span></a>
        <a href="#features"><i class="fas fa-star"></i> <span data-lang="mk">Карактеристики</span><span data-lang="en">Features</span></a>
        <a href="#impact"><i class="fas fa-chart-line"></i> <span data-lang="mk">Влијание</span><span data-lang="en">Impact</span></a>
        <a href="#contact"><i class="fas fa-envelope"></i> <span data-lang="mk">Контакт</span><span data-lang="en">Contact</span></a>
      </div>
      <div class="footer-col">
        <h4 data-lang="mk">Правни</h4>
        <h4 data-lang="en">Legal</h4>
        <a href="privacy.html"><i class="fas fa-shield-alt"></i> <span data-lang="mk">Политика за приватност</span><span data-lang="en">Privacy Policy</span></a>
        <a href="#"><i class="fas fa-file-contract"></i> <span data-lang="mk">Услови за користење</span><span data-lang="en">Terms of Service</span></a>
        <a href="#"><i class="fas fa-undo"></i> <span data-lang="mk">Политика за враќање</span><span data-lang="en">Refund Policy</span></a>
      </div>
      <div class="footer-col">
        <h4 data-lang="mk">Платежни методи</h4>
        <h4 data-lang="en">Payment Methods</h4>
        <div class="payment-methods">
          <i class="fab fa-cc-visa" title="Visa"></i>
          <i class="fab fa-cc-mastercard" title="Mastercard"></i>
          <i class="fab fa-cc-paypal" title="PayPal"></i>
          <i class="fab fa-cc-stripe" title="Stripe"></i>
          <i class="fab fa-bitcoin" title="Bitcoin"></i>
        </div>
        <p style="font-size: 0.85rem; opacity: 0.8; margin-top: 0.5rem;" data-lang="mk">Безбедно плаќање 24/7</p>
        <p style="font-size: 0.85rem; opacity: 0.8; margin-top: 0.5rem;" data-lang="en">Secure payments 24/7</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>
        &copy; <span id="year">2026</span> World Protocol Academy • 
        <span data-lang="mk">Сите права задржани • Изградено со ❤️ за наука</span>
        <span data-lang="en">All rights reserved • Built with ❤️ for science</span>
      </p>
    </div>
  </footer>

  <!-- Cart Drawer -->
  <div class="cart-overlay" id="cart-overlay" aria-hidden="true"></div>
  <aside class="cart-drawer" id="cart-drawer" role="dialog" aria-label="Shopping cart" aria-modal="true" aria-hidden="true">
    <div class="cart-header">
      <h3 class="cart-title">
        <i class="fas fa-shopping-cart"></i>
        <span data-lang="mk">Ваша кошничка</span>
        <span data-lang="en">Your Cart</span>
      </h3>
      <button class="cart-close" aria-label="Close cart"><i class="fas fa-times"></i></button>
    </div>
    <div class="cart-items" id="cart-items">
      <!-- Cart items injected by JS -->
    </div>
    <div class="cart-footer">
      <div class="cart-subtotal">
        <span data-lang="mk">Подвкупно:</span>
        <span data-lang="en">Subtotal:</span>
        <span id="cart-subtotal">$0.00</span>
      </div>
      <div class="cart-total">
        <span data-lang="mk">Вкупно:</span>
        <span data-lang="en">Total:</span>
        <span id="cart-total-price">$0.00</span>
      </div>
      <button class="cart-checkout-btn" id="checkout-btn" disabled>
        <i class="fas fa-credit-card"></i>
        <span data-lang="mk">Продолжи кон плаќање</span>
        <span data-lang="en">Proceed to Checkout</span>
      </button>
      <button class="cart-continue-shopping" id="continue-shopping-btn">
        <i class="fas fa-arrow-left"></i>
        <span data-lang="mk">Продолжи со купување</span>
        <span data-lang="en">Continue Shopping</span>
      </button>
    </div>
  </aside>

  <!-- Quick View Modal -->
  <div class="quick-view-modal" id="quickViewModal" aria-hidden="true">
    <div class="quick-view-content" role="dialog" aria-modal="true">
      <button class="quick-view-close" aria-label="Close modal"><i class="fas fa-times"></i></button>
      <div class="quick-view-body" id="quickViewBody">
        <!-- Content injected by JS -->
      </div>
    </div>
  </div>

  <!-- AI Chatbot -->
  <div class="ai-chatbot">
    <div class="chatbot-window" id="chatbotWindow" aria-hidden="true">
      <div class="chatbot-header">
        <div class="chatbot-header-info">
          <div class="chatbot-avatar">🤖</div>
          <div class="chatbot-title">
            <h4>WPA AI Assistant</h4>
            <div class="chatbot-status" data-lang="mk">Онлајн</div>
            <div class="chatbot-status" data-lang="en">Online</div>
          </div>
        </div>
        <button class="chatbot-close" aria-label="Close chat"><i class="fas fa-times"></i></button>
      </div>
      <div class="chatbot-messages" id="chatbotMessages">
        <div class="chat-message bot">
          <div class="chat-avatar">🤖</div>
          <div class="chat-bubble">
            <span data-lang="mk">Здраво! Јас сум вашиот AI асистент. Како можам да ви помогнам денес?</span>
            <span data-lang="en">Hello! I'm your AI assistant. How can I help you today?</span>
          </div>
        </div>
      </div>
      <div class="chatbot-input">
        <input type="text" id="chatbotInput" placeholder="Напишете порака..." data-lang="mk">
        <input type="text" id="chatbotInputEn" placeholder="Type a message..." data-lang="en" style="display:none">
        <button id="chatbotSend" aria-label="Send message"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
    <button class="chatbot-toggle" id="chatbotToggle" aria-label="Open chat" aria-expanded="false">
      <i class="fas fa-comments"></i>
    </button>
  </div>

  <!-- Live Chat Buttons -->
  <div class="live-chat-buttons">
    <a href="https://wa.me/38970000000?text=Здраво,%20интересиран%20сум%20за%20книгите%20од%20World%20Protocol%20Academy" target="_blank" rel="noopener" class="live-chat-btn whatsapp" data-label="WhatsApp" aria-label="Chat on WhatsApp">
      <i class="fab fa-whatsapp"></i>
    </a>
    <a href="https://m.me/worldprotocolacademy" target="_blank" rel="noopener" class="live-chat-btn messenger" data-label="Messenger" aria-label="Chat on Messenger">
      <i class="fab fa-facebook-messenger"></i>
    </a>
    <a href="https://t.me/worldprotocolacademy" target="_blank" rel="noopener" class="live-chat-btn telegram" data-label="Telegram" aria-label="Chat on Telegram">
      <i class="fab fa-telegram-plane"></i>
    </a>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- JavaScript -->
  <script>
    // Initialize on DOM load
    document.addEventListener('DOMContentLoaded', () => {
      
      // ===== GLOBAL STATE =====
      const state = {
        lang: localStorage.getItem('wpa-lang') || 'mk',
        theme: localStorage.getItem('wpa-theme') || 'light',
        cart: JSON.parse(localStorage.getItem('wpa-cart')) || [],
        citations: 192
      };
      
      // ===== BOOKS DATA =====
      const books = {
        'digital-era': {
          id: 'digital-era',
          title: { mk: 'Дигитална Ера: Трансформација, Безбедност, Протокол', en: 'Digital Era: Transformation, Security, Protocol' },
          author: 'Assoc. Prof. Sande Smiljanov, PhD',
          isbn: '978-608-66168-0-9',
          year: '2023',
          price: 19.99,
          originalPrice: 29.99,
          discount: 33,
          rating: 5,
          reviews: 48,
          icon: '📘',
          description: {
            mk: 'Анализа на дигиталната трансформација во дипломатијата и безбедносните протоколи во 21 век.',
            en: 'Analysis of digital transformation in diplomacy and security protocols in the 21st century.'
          },
          citation: `@book{smiljanov2023digital,
  title={Digital Era: Transformation, Security, Protocol},
  author={Smiljanov, Sande},
  year={2023},
  publisher={World Protocol Academy},
  isbn={978-608-66168-0-9}
}`
        },
        'state-protocol': {
          id: 'state-protocol',
          title: { mk: 'Воспоставување на единствен државен протокол', en: 'Establishing a Unified State Protocol' },
          author: 'Assoc. Prof. Sande Smiljanov, PhD',
          isbn: '978-608-66168-2-3',
          year: '2022',
          price: 17.99,
          rating: 5,
          reviews: 36,
          icon: '📙',
          description: {
            mk: 'Комплетен прирачник за имплементација на стандардизиран државен протокол.',
            en: 'Comprehensive guide for implementing standardized state protocol.'
          },
          citation: `@book{smiljanov2022protocol,
  title={Establishing a Unified State Protocol},
  author={Smiljanov, Sande},
  year={2022},
  publisher={World Protocol Academy},
  isbn={978-608-66168-2-3}
}`
        },
        'diplomacy-security': {
          id: 'diplomacy-security',
          title: { mk: 'Дипломатија & Безбедност: Предизвици во 21 век', en: 'Diplomacy & Security: 21st Century Challenges' },
          author: 'Assoc. Prof. Sande Smiljanov, PhD',
          isbn: '978-608-66168-4-7',
          year: '2024',
          price: 21.99,
          rating: 4,
          reviews: 22,
          icon: '📗',
          description: {
            mk: 'Стратегии за модерна дипломатија во ера на глобални предизвици.',
            en: 'Strategies for modern diplomacy in an era of global challenges.'
          },
          citation: `@book{smiljanov2024diplomacy,
  title={Diplomacy & Security: 21st Century Challenges},
  author={Smiljanov, Sande},
  year={2024},
  publisher={World Protocol Academy},
  isbn={978-608-66168-4-7}
}`
        },
        'conference-handbook': {
          id: 'conference-handbook',
          title: { mk: 'Прирачник за организирање на конференции и протоколарни настани', en: 'Handbook for Organizing Conferences & Protocol Events' },
          author: 'Assoc. Prof. Sande Smiljanov, PhD',
          isbn: '978-608-66168-6-1',
          year: '2024',
          price: 15.99,
          rating: 5,
          reviews: 19,
          icon: '📕',
          description: {
            mk: 'Практичен водич за професионално организирање на настани.',
            en: 'Practical guide for professional event organization.'
          },
          citation: `@book{smiljanov2024handbook,
  title={Handbook for Organizing Conferences & Protocol Events},
  author={Smiljanov, Sande},
  year={2024},
  publisher={World Protocol Academy},
  isbn={978-608-66168-6-1}
}`
        }
      };
      
      // ===== LANGUAGE TOGGLE =====
      function setLanguage(lang) {
        state.lang = lang;
        localStorage.setItem('wpa-lang', lang);
        document.body.classList.toggle('lang-en', lang === 'en');
        
        // Update language buttons
        document.querySelectorAll('.lang-btn').forEach(btn => {
          const isActive = btn.dataset.langToggle === lang;
          btn.classList.toggle('active', isActive);
          btn.setAttribute('aria-pressed', isActive);
        });
        
        // Update search input visibility
        const searchMk = document.getElementById('searchInput');
        const searchEn = document.getElementById('searchInputEn');
        if (searchMk && searchEn) {
          searchMk.style.display = lang === 'mk' ? 'block' : 'none';
          searchEn.style.display = lang === 'en' ? 'block' : 'none';
        }
        
        // Update chatbot input
        const chatMk = document.getElementById('chatbotInput');
        const chatEn = document.getElementById('chatbotInputEn');
        if (chatMk && chatEn) {
          chatMk.style.display = lang === 'mk' ? 'block' : 'none';
          chatEn.style.display = lang === 'en' ? 'block' : 'none';
        }
        
        updateCartUI();
      }
      
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => setLanguage(btn.dataset.langToggle));
      });
      
      // ===== THEME TOGGLE =====
      function setTheme(theme) {
        state.theme = theme;
        localStorage.setItem('wpa-theme', theme);
        document.documentElement.setAttribute('data-theme', theme);
      }
      
      const themeToggle = document.querySelector('.theme-toggle');
      if (themeToggle) {
        themeToggle.addEventListener('click', () => {
          setTheme(state.theme === 'light' ? 'dark' : 'light');
        });
        themeToggle.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') setTheme(state.theme === 'light' ? 'dark' : 'light');
        });
      }
      
      setTheme(state.theme);
      setLanguage(state.lang);
      
      // ===== MOBILE MENU =====
      const menuToggle = document.querySelector('.menu-toggle');
      const mainNav = document.getElementById('main-nav');
      if (menuToggle && mainNav) {
        menuToggle.addEventListener('click', () => {
          const isOpen = mainNav.classList.toggle('open');
          menuToggle.setAttribute('aria-expanded', isOpen);
        });
        mainNav.querySelectorAll('a').forEach(link => {
          link.addEventListener('click', () => {
            mainNav.classList.remove('open');
            menuToggle.setAttribute('aria-expanded', 'false');
          });
        });
      }
      
      // ===== CART FUNCTIONALITY =====
      const cartBtn = document.querySelector('.cart-btn');
      const cartDrawer = document.getElementById('cart-drawer');
      const cartOverlay = document.getElementById('cart-overlay');
      const cartItemsEl = document.getElementById('cart-items');
      const cartSubtotalEl = document.getElementById('cart-subtotal');
      const cartTotalEl = document.getElementById('cart-total-price');
      const cartCountEl = document.querySelector('.cart-count');
      const checkoutBtn = document.getElementById('checkout-btn');
      const continueShoppingBtn = document.getElementById('continue-shopping-btn');
      
      function saveCart() {
        localStorage.setItem('wpa-cart', JSON.stringify(state.cart));
        updateCartUI();
      }
      
      function addToCart(product) {
        const existing = state.cart.find(item => item.id === product.id);
        if (existing) {
          existing.qty += 1;
          showToast(`${product.name} ${state.lang === 'mk' ? 'е ажуриран во кошничката' : 'updated in cart'}`, 'success');
        } else {
          state.cart.push({ ...product, qty: 1 });
          showToast(`${product.name} ${state.lang === 'mk' ? 'додаден во кошничка' : 'added to cart'}`, 'success');
        }
        saveCart();
      }
      
      function removeFromCart(productId) {
        state.cart = state.cart.filter(item => item.id !== productId);
        saveCart();
      }
      
      function updateQty(productId, change) {
        const item = state.cart.find(item => item.id === productId);
        if (item) {
          item.qty += change;
          if (item.qty <= 0) removeFromCart(productId);
          else saveCart();
        }
      }
      
      function updateCartUI() {
        const totalQty = state.cart.reduce((sum, item) => sum + item.qty, 0);
        if (cartCountEl) {
          cartCountEl.textContent = totalQty;
          cartCountEl.hidden = totalQty === 0;
        }
        
        if (state.cart.length === 0) {
          cartItemsEl.innerHTML = `
            <div class="cart-empty">
              <div class="cart-empty-icon">🛒</div>
              <p data-lang="mk">Вашата кошничка е празна</p>
              <p data-lang="en">Your cart is empty</p>
            </div>
          `;
          if (checkoutBtn) checkoutBtn.disabled = true;
        } else {
          cartItemsEl.innerHTML = state.cart.map(item => `
            <div class="cart-item">
              <div class="cart-item-image">${books[item.id]?.icon || '📚'}</div>
              <div class="cart-item-info">
                <div class="cart-item-title">${item.name}</div>
                <div class="cart-item-price">$${item.price}</div>
                <div class="cart-item-qty">
                  <button class="qty-btn" onclick="updateQty('${item.id}', -1)" aria-label="Decrease quantity">-</button>
                  <span>${item.qty}</span>
                  <button class="qty-btn" onclick="updateQty('${item.id}', 1)" aria-label="Increase quantity">+</button>
                </div>
                <button class="cart-item-remove" onclick="removeFromCart('${item.id}')">
                  <i class="fas fa-trash"></i> 
                  <span data-lang="mk">Отстрани</span>
                  <span data-lang="en">Remove</span>
                </button>
              </div>
            </div>
          `).join('');
          if (checkoutBtn) checkoutBtn.disabled = false;
        }
        
        const subtotal = state.cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
        if (cartSubtotalEl) cartSubtotalEl.textContent = `$${subtotal.toFixed(2)}`;
        if (cartTotalEl) cartTotalEl.textContent = `$${subtotal.toFixed(2)}`;
      }
      
      function toggleCart(open) {
        cartDrawer.classList.toggle('open', open);
        cartOverlay.classList.toggle('open', open);
        cartDrawer.setAttribute('aria-hidden', !open);
        cartOverlay.setAttribute('aria-hidden', !open);
        document.body.style.overflow = open ? 'hidden' : '';
        if (open) updateCartUI();
      }
      
      if (cartBtn) cartBtn.addEventListener('click', () => toggleCart(true));
      if (cartOverlay) cartOverlay.addEventListener('click', () => toggleCart(false));
      document.querySelector('.cart-close')?.addEventListener('click', () => toggleCart(false));
      if (continueShoppingBtn) continueShoppingBtn.addEventListener('click', () => toggleCart(false));
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && cartDrawer.classList.contains('open')) toggleCart(false); });
      
      // Add to cart buttons
      document.querySelectorAll('.add-to-cart').forEach(btn => {
        btn.addEventListener('click', () => {
          const product = {
            id: btn.dataset.productId,
            name: btn.dataset.productName,
            price: parseFloat(btn.dataset.productPrice)
          };
          addToCart(product);
        });
      });
      
      // Bundle button
      document.getElementById('buyBundleBtn')?.addEventListener('click', () => {
        const bundleProducts = Object.values(books).map(book => ({
          id: book.id,
          name: book.title[state.lang],
          price: book.price
        }));
        bundleProducts.forEach(product => addToCart(product));
        toggleCart(true);
      });
      
      // Checkout button
      if (checkoutBtn) {
        checkoutBtn.addEventListener('click', () => {
          const total = state.cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
          // Here you would integrate with Stripe/PayPal
          showToast(`${state.lang === 'mk' ? 'Интеграција со плаќање наскоро! Вкупно: $' : 'Payment integration coming soon! Total: $'}${total.toFixed(2)}`, 'info');
        });
      }
      
      // ===== QUICK VIEW MODAL =====
      const quickViewModal = document.getElementById('quickViewModal');
      const quickViewBody = document.getElementById('quickViewBody');
      
      function openQuickView(bookId) {
        const book = books[bookId];
        if (!book) return;
        
        quickViewBody.innerHTML = `
          <div class="quick-view-image">
            <div class="quick-view-image-content">
              <span class="quick-view-image-icon">${book.icon}</span>
              <h3 style="font-size:1.5rem; font-weight:700;">${book.title[state.lang]}</h3>
              <p style="margin-top:0.5rem; opacity:0.9;">${book.author}</p>
            </div>
          </div>
          <div class="quick-view-info">
            <h2 class="quick-view-title">${book.title[state.lang]}</h2>
            <p style="color:var(--gray); font-size:0.95rem;">${book.author}</p>
            
            <dl class="quick-view-meta">
              <dt>${state.lang === 'mk' ? 'ISBN' : 'ISBN'}</dt>
              <dd>${book.isbn}</dd>
              
              <dt>${state.lang === 'mk' ? 'Година' : 'Year'}</dt>
              <dd>${book.year}</dd>
              
              <dt>${state.lang === 'mk' ? 'Јазик' : 'Language'}</dt>
              <dd>MK / EN</dd>
              
              <dt>${state.lang === 'mk' ? 'Формат' : 'Format'}</dt>
              <dd>PDF • EPUB • MOBI</dd>
            </dl>
            
            <p class="quick-view-description">${book.description[state.lang]}</p>
            
            <div style="display:flex; align-items:center; gap:1rem; margin:1.5rem 0;">
              <span style="font-size:2rem; font-weight:800; color:var(--primary);">$${book.price}</span>
              ${book.originalPrice ? `<span style="font-size:1.2rem; color:var(--gray); text-decoration:line-through;">$${book.originalPrice}</span>` : ''}
              ${book.discount ? `<span style="background:var(--danger); color:white; padding:0.4rem 0.85rem; border-radius:6px; font-weight:700;">-${book.discount}%</span>` : ''}
            </div>
            
            <div style="background:var(--light); border-left:4px solid var(--secondary); padding:1.25rem; margin:1.5rem 0; border-radius:0 8px 8px 0;">
              <h4 style="margin:0 0 0.75rem; color:var(--primary); font-size:0.95rem;">
                <i class="fas fa-quote-right"></i> 
                ${state.lang === 'mk' ? 'Академски цитат (BibTeX)' : 'Academic Citation (BibTeX)'}
              </h4>
              <pre class="quick-view-citation" style="margin:0; font-size:0.8rem; overflow-x:auto;">${book.citation}</pre>
              <button class="btn btn-sm" onclick="copyCitation(\`${book.citation.replace(/`/g, '\\`')}\`)" style="margin-top:0.75rem;">
                <i class="fas fa-copy"></i> 
                ${state.lang === 'mk' ? 'Копирај цитат' : 'Copy citation'}
              </button>
            </div>
            
            <div class="quick-view-actions">
              <button class="btn add-to-cart" data-product-id="${book.id}" data-product-name="${book.title[state.lang]}" data-product-price="${book.price}" style="flex:2;">
                <i class="fas fa-cart-plus"></i>
                ${state.lang === 'mk' ? 'Додади во кошничка' : 'Add to cart'} — $${book.price}
              </button>
              <a href="#" class="btn btn-outline" style="flex:1; border-color:var(--primary); color:var(--primary);">
                <i class="fas fa-download"></i>
                ${state.lang === 'mk' ? 'Примерок' : 'Sample'}
              </a>
            </div>
          </div>
        `;
        
        // Add event listeners to new buttons
        quickViewBody.querySelector('.add-to-cart')?.addEventListener('click', (e) => {
          const product = {
            id: e.target.dataset.productId,
            name: e.target.dataset.productName,
            price: parseFloat(e.target.dataset.productPrice)
          };
          addToCart(product);
        });
        
        quickViewModal.classList.add('open');
        quickViewModal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      }
      
      function closeQuickView() {
        quickViewModal.classList.remove('open');
        quickViewModal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      }
      
      document.querySelectorAll('[data-quick-view]').forEach(btn => {
        btn.addEventListener('click', () => openQuickView(btn.dataset.quickView));
      });
      
      document.querySelector('.quick-view-close')?.addEventListener('click', closeQuickView);
      quickViewModal?.addEventListener('click', (e) => { if (e.target === quickViewModal) closeQuickView(); });
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && quickViewModal.classList.contains('open')) closeQuickView(); });
      
      // ===== COPY CITATION =====
      window.copyCitation = async (citation) => {
        try {
          await navigator.clipboard.writeText(citation);
          showToast(state.lang === 'mk' ? '✅ Цитатот е копиран!' : '✅ Citation copied!', 'success');
        } catch (err) {
          showToast(state.lang === 'mk' ? '❌ Грешка при копирање' : '❌ Copy failed', 'error');
        }
      };
      
      // ===== TOAST NOTIFICATIONS =====
      window.showToast = (message, type = 'info') => {
        const container = document.getElementById('toastContainer');
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        
        const icons = {
          success: '✓',
          error: '✕',
          warning: '⚠',
          info: 'ℹ'
        };
        
        toast.innerHTML = `
          <span class="toast-icon">${icons[type]}</span>
          <span class="toast-message">${message}</span>
          <button class="toast-close" onclick="this.parentElement.remove()">✕</button>
        `;
        
        container.appendChild(toast);
        setTimeout(() => {
          toast.style.animation = 'slideInRight 0.3s ease reverse';
          setTimeout(() => toast.remove(), 300);
        }, 4000);
      };
      
      // ===== AI CHATBOT =====
      const chatbotToggle = document.getElementById('chatbotToggle');
      const chatbotWindow = document.getElementById('chatbotWindow');
      const chatbotMessages = document.getElementById('chatbotMessages');
      const chatbotInput = document.getElementById('chatbotInput');
      const chatbotInputEn = document.getElementById('chatbotInputEn');
      const chatbotSend = document.getElementById('chatbotSend');
      
      function toggleChatbot() {
        const isOpen = chatbotWindow.classList.toggle('open');
        chatbotWindow.setAttribute('aria-hidden', !isOpen);
        chatbotToggle.setAttribute('aria-expanded', isOpen);
        if (isOpen) {
          const input = state.lang === 'mk' ? chatbotInput : chatbotInputEn;
          if (input) setTimeout(() => input.focus(), 100);
        }
      }
      
      chatbotToggle?.addEventListener('click', toggleChatbot);
      
      function addMessage(text, isUser = false) {
        const message = document.createElement('div');
        message.className = `chat-message ${isUser ? 'user' : 'bot'}`;
        message.innerHTML = `
          <div class="chat-avatar">${isUser ? '👤' : '🤖'}</div>
          <div class="chat-bubble">${text}</div>
        `;
        chatbotMessages.appendChild(message);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      }
      
      function getBotResponse(userMessage) {
        const msg = userMessage.toLowerCase();
        const responses = {
          mk: {
            'цена': 'Цените се: Дигитална Ера $19.99, Државен Протокол $17.99, Дипломатија $21.99, Прирачник $15.99. Пакетот со сите 4 книги е $59.99 (21% попуст).',
            'плаќање': 'Прифаќаме PayPal, Stripe (Visa/Mastercard), и cryptocurrency. Сите плаќања се безбедно енкриптирани.',
            'достава': 'Дигиталните фајлови се испораќуваат моментално по плаќањето на вашата email адреса.',
            'цитат': 'Секоја книга има готови BibTeX, APA и MLA цитати. Кликнете на "Преглед" за да ги видите.',
            'контакт': 'Можете да не контактирате на worldprotocolacademy@gmail.com или преку WhatsApp/Messenger/Telegram копчињата долу лево.',
            'default': 'Ви благодарам за прашањето! За подетални информации, ве молам контактирајте не на worldprotocolacademy@gmail.com или прегледајте ги книгите погоре.'
          },
          en: {
            'price': 'Prices are: Digital Era $19.99, State Protocol $17.99, Diplomacy $21.99, Handbook $15.99. Complete bundle is $59.99 (21% off).',
            'payment': 'We accept PayPal, Stripe (Visa/Mastercard), and cryptocurrency. All payments are securely encrypted.',
            'delivery': 'Digital files are delivered instantly after payment to your email address.',
            'citation': 'Each book includes ready-to-use BibTeX, APA, and MLA citations. Click "Preview" to see them.',
            'contact': 'You can contact us at worldprotocolacademy@gmail.com or via WhatsApp/Messenger/Telegram buttons bottom left.',
            'default': 'Thank you for your question! For more details, please contact us at worldprotocolacademy@gmail.com or browse the books above.'
          }
        };
        
        const lang = state.lang;
        for (const [key, value] of Object.entries(responses[lang])) {
          if (msg.includes(key)) return value;
        }
        return responses[lang].default;
      }
      
      function sendMessage() {
        const input = state.lang === 'mk' ? chatbotInput : chatbotInputEn;
        const text = input?.value.trim();
        if (!text) return;
        
        addMessage(text, true);
        input.value = '';
        
        // Simulate bot typing
        setTimeout(() => {
          const response = getBotResponse(text);
          addMessage(response, false);
        }, 600);
      }
      
      chatbotSend?.addEventListener('click', sendMessage);
      chatbotInput?.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });
      chatbotInputEn?.addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });
      
      // ===== SEARCH FUNCTIONALITY =====
      const searchInput = document.getElementById('searchInput');
      const searchInputEn = document.getElementById('searchInputEn');
      
      function performSearch(query) {
        if (!query.trim()) return;
        const results = Object.values(books).filter(book => 
          book.title.mk.toLowerCase().includes(query.toLowerCase()) ||
          book.title.en.toLowerCase().includes(query.toLowerCase()) ||
          book.isbn.includes(query) ||
          book.description.mk.toLowerCase().includes(query.toLowerCase()) ||
          book.description.en.toLowerCase().includes(query.toLowerCase())
        );
        
        if (results.length === 0) {
          showToast(state.lang === 'mk' ? 'Нема пронајдено резултати' : 'No results found', 'warning');
        } else {
          showToast(`${results.length} ${state.lang === 'mk' ? 'резултати пронајдени' : 'results found'}`, 'success');
          // Scroll to books section
          document.getElementById('books')?.scrollIntoView({ behavior: 'smooth' });
        }
      }
      
      document.querySelector('.search-btn')?.addEventListener('click', () => {
        const input = state.lang === 'mk' ? searchInput : searchInputEn;
        performSearch(input?.value || '');
      });
      searchInput?.addEventListener('keypress', (e) => { if (e.key === 'Enter') performSearch(e.target.value); });
      searchInputEn?.addEventListener('keypress', (e) => { if (e.key === 'Enter') performSearch(e.target.value); });
      
      // ===== DYNAMIC CITATION COUNTER =====
      const citationEl = document.getElementById('citation-count');
      const totalCitationsEl = document.getElementById('total-citations');
      if (citationEl || totalCitationsEl) {
        let current = 0;
        const target = state.citations;
        const increment = Math.ceil(target / 30);
        const timer = setInterval(() => {
          current += increment;
          if (current >= target) {
            if (citationEl) citationEl.textContent = target;
            if (totalCitationsEl) totalCitationsEl.textContent = target;
            clearInterval(timer);
          } else {
            if (citationEl) citationEl.textContent = current;
            if (totalCitationsEl) totalCitationsEl.textContent = current;
          }
        }, 50);
      }
      
      // ===== SMOOTH SCROLL =====
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          const targetId = this.getAttribute('href');
          if (targetId !== '#' && document.querySelector(targetId)) {
            e.preventDefault();
            document.querySelector(targetId).scrollIntoView({ behavior: 'smooth', block: 'start' });
            if (mainNav?.classList.contains('open')) {
              mainNav.classList.remove('open');
              menuToggle?.setAttribute('aria-expanded', 'false');
            }
          }
        });
      });
      
      // ===== DYNAMIC YEAR =====
      const yearEl = document.getElementById('year');
      if (yearEl) yearEl.textContent = new Date().getFullYear();
      
      // ===== INITIALIZE CART =====
      updateCartUI();
      
      // ===== WELCOME MESSAGE =====
      setTimeout(() => {
        showToast(
          state.lang === 'mk' 
            ? '👋 Добредојдовте во World Protocol Academy! Прашајте го нашиот AI асистент за помош.' 
            : '👋 Welcome to World Protocol Academy! Ask our AI assistant for help.',
          'info'
        );
      }, 2000);
      
    });
  </script>
  
</body>
</html>
